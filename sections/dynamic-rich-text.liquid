{% liquid
  assign onboard = false

  if section.settings.title == blank and section.settings.introduction_tagline == blank
    assign onboard = true
  endif
%}

<script type="application/pxs-animation-mapping+json">
  {
    "blocks": [
      ".rich-text__wrapper"
    ],
    "elements": [
      ".rich-text__heading",
      ".rich-text__content"
    ]
  }
</script>

<div data-section-id="{{ section.id }}">
  <section
    class="
      rich-text
      {% if section.settings.show_border == false %}
        no-section-border
      {% endif %}
    "
  >
    {% if onboard %}
      <div class="rich-text__wrapper">
        <h2>
          {{ 'onboarding.welcome_message.title' | t }}
        </h2>

        <div>
          {{ 'onboarding.welcome_message.text' | t }}
        </div>
      </div>
    {% else %}
      <div class="rich-text__wrapper">
        {% unless section.settings.title == blank %}
          <h2 class="rich-text__heading">
            {{ section.settings.title }}
          </h2>
        {% endunless %}

        {% unless section.settings.introduction_tagline == blank %}
          <div class="rich-text__content">
            {{ section.settings.introduction_tagline }}
          </div>
        {% endunless %}
      </div>
    {% endif %}
  </section>
</div>

{% schema %}
{
  "name": "t:sections.rich_text.name",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "t:sections.rich_text.title.label",
      "default": "Rich text"
    },
    {
      "type": "richtext",
      "id": "introduction_tagline",
      "label": "t:sections.rich_text.introduction_tagline.label",
      "default": "<p>Use this section to welcome customers to your store, say a bit about your brand, or share news and seasonal promotions.</p>"
    },
    {
      "type": "checkbox",
      "id": "show_border",
      "label": "t:sections.rich_text.show_border.label",
      "default": true
    }
  ],
  "presets": [
    {
      "category": "t:sections.rich_text.presets.category",
      "name": "t:sections.rich_text.presets.name"
    }
  ],
  "disabled_on": {
    "groups": [
      "*"
    ]
  }
}

{% endschema %}